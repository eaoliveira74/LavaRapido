body {
  background-color: #0f172a; /* Cor de fundo principal (slate-900) */
  color: #e2e8f0; /* Cor de texto principal (slate-200) */
}
/* Base responsive typography: scale slightly with viewport */
html { font-size: clamp(14px, 1.1vw + 0.6rem, 18px); }
.card {
  background-color: #1e293b; /* Cor dos cards (slate-800) */
  border: 1px solid #334155; /* Cor da borda dos cards (slate-700) */
}

/* Accessibility helpers */
.a11y-high-contrast {
  background: #000 !important;
  color: #fff !important;
}
.a11y-high-contrast .card {
  background: #111 !important;
  border-color: #444 !important;
}
.a11y-large-text {
  /* increase base font-size by 20% for accessibility */
  font-size: 1.2em !important; /* 120% */
}
/* Reduced motion: remove animations/transitions */
.a11y-reduced-motion *, .a11y-reduced-motion *::before, .a11y-reduced-motion *::after {
  animation: none !important;
  transition: none !important;
}

/* Strong focus outline for keyboard users */
:focus {
  outline: 3px solid #ffdd57;
  outline-offset: 2px;
}

/* Accessibility toolbar specific styles (make controls black) */
#a11y-toolbar { background: #000 !important; color: #fff !important; }
#a11y-toolbar .form-check-label, #a11y-toolbar .small { color: #fff !important; }
#a11y-toolbar .form-check-input:checked { background-color: #000; border-color: #fff; }
#a11y-toolbar .form-check-input { background-color: #000; border-color: #fff; }
#a11y-toolbar .btn-outline-secondary { color: #fff; border-color: #fff; background: #000; }
#a11y-toolbar .btn-outline-secondary:hover { background: #111; border-color: #fff; }

/* Collapsed toolbar and floating toggle button */
#a11y-toolbar.collapsed { height: 40px; overflow: hidden; padding-top: .25rem; padding-bottom: .25rem; }
#a11y-toggle {
  position: fixed;
  right: 12px;
  bottom: 12px;
  z-index: 1050;
  width: 44px;
  height: 44px;
  border-radius: 6px;
  background: #000;
  color: #fff;
  border: 1px solid #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
#a11y-toggle:focus { outline: 3px solid #ffdd57; }

/* Weather strip icons */
#stats-weather-strip .day-icon { display:flex; flex-direction:column; align-items:center; justify-content:center; width:64px; }
#stats-weather-strip .day-icon .label { font-size:0.75rem; color:#cbd5e1; margin-top:4px; text-align:center; }
#stats-weather-legend span { margin-right:12px; display:inline-flex; align-items:center; gap:6px; }

/* Home weather cards */
#home-weather-cards { align-items:center; }
.weather-card { min-width:140px; max-width:220px; box-shadow: 0 2px 6px rgba(0,0,0,0.12); }
.weather-card .title { font-weight:600; font-size:0.9rem; }
.weather-card .temp { font-size:1.1rem; font-weight:700; }
.weather-card .cond { font-size:0.85rem; color:#475569; }
.a11y-high-contrast .weather-card { background:#000 !important; color:#fff !important; }
/* toolbar weather controls removed */
.weather-card .icon svg { width:36px; height:36px; }
.day-icon svg { width:24px; height:24px; }

/* Improve readability of services list in dark themes */
/* Services list: ensure readable text even when global admin rules force white text */
#services-list { background: #ffffff !important; border-radius: 6px; }
#services-list .list-group-item { background: #ffffff !important; color: #0b1220 !important; border: 1px solid rgba(0,0,0,0.06) !important; }
/* Force all children to inherit readable color (helps buttons, icons, labels) */
#services-list .list-group-item, #services-list .list-group-item * { color: #0b1220 !important; }
#services-list .list-group-item .btn { color: #0b1220 !important; border-color: rgba(11,18,32,0.12) !important; }

/* High-contrast overrides */
.a11y-high-contrast #services-list { background: #0b1220 !important; }
.a11y-high-contrast #services-list .list-group-item { background: #0b1220 !important; color: #e6eef8 !important; border-color: rgba(255,255,255,0.06) !important; }
.a11y-high-contrast #services-list .list-group-item .btn { color: #fff !important; border-color: rgba(255,255,255,0.12) !important; }
.table {
  --bs-table-bg: #1e293b; /* Fundo da tabela */
  --bs-table-border-color: #334155; /* Cor da borda da tabela */
  --bs-table-striped-bg: #33415533; /* Fundo da linha zebrada */
}
.form-control, .form-select, .modal-content {
  background-color: #334155; /* Cor de fundo dos inputs (slate-700) */
  border-color: #475569; /* Cor da borda dos inputs (slate-600) */
  color: #e2e8f0;
}
.form-control:focus, .form-select:focus {
  background-color: #334155;
  border-color: #06b6d4; /* Cor do foco (cyan-500) */
  box-shadow: 0 0 0 0.25rem rgba(6, 182, 212, 0.25);
  color: #e2e8f0;
}
 .btn-cyan {
  background-color: #0891b2; /* Cor base do botão (cyan-600) */
  border-color: #0891b2;
  color: #fff;
}
.btn-cyan:hover {
  background-color: #06b6d4; /* Cor do hover (cyan-500) */
  border-color: #06b6d4;
  color: #fff;
}
.modal-content {
  background-color: #1e293b;
}

/* Tornar textos secundários brancos dentro da view do cliente para melhor contraste */
/* Alvo ampliado para cobrir variações (cards, listas, parágrafos) */
#client-view .text-secondary,
#client-view .small.text-secondary,
#client-view .card .card-body .text-secondary,
#client-view .list-group .text-secondary,
#client-view p.text-secondary,
#client-view .card .card-body p,
#client-view .card .card-body small {
  color: #f8fafc !important;
}

/* Slots grid for available times */
#available-times-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
  gap: 8px;
}
.slot {
  border-radius: 6px;
  padding: 8px 6px;
  cursor: pointer;
  min-height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 1px 2px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.06) inset;
}
.slot.free {
  background: #ffffff;
  color: #000000;
  border: 1px solid rgba(0,0,0,0.12);
}
#available-times-grid .slot.reserved {
  background: #fecaca; /* light red */
  color: #000000;
  border: 2px solid #ef4444 !important; /* red */
  cursor: not-allowed;
}
#available-times-grid .slot.unavailable {
  background: #ffedd5; /* light orange */
  color: #000000;
  border: 2px solid #f97316 !important; /* orange */
  cursor: not-allowed;
  opacity: 0.95;
}

/* If a slot is both reserved and unavailable, keep it red (reserved wins) */
#available-times-grid .slot.reserved.unavailable {
  background: #fecaca !important;
  border-color: #ef4444 !important;
}
.slot .slot-label { font-size: 0.95rem; }

.slot:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.12), 0 0 0 1px rgba(0,0,0,0.06) inset;
}

/* Ensure slot text is black even when parent rules force white in client view */
#client-view #available-times-grid .slot,
#client-view #available-times-grid .slot .slot-label {
  color: #000000 !important;
}

/* Regra mais específica e abrangente para garantir branco em textos do cliente */
#client-view p,
#client-view small,
#client-view span,
#client-view li,
#client-view .text-secondary {
  color: #ffffff !important;
  opacity: 1 !important;
}

/* Forçar branco para todo o texto dentro dos cards do cliente (garante labels, títulos e textos menores) */
#client-view .card,
#client-view .card * {
  color: #ffffff !important;
}

/* Admin view: garantir texto branco para melhor contraste */
#admin-view,
#admin-view * {
  color: #ffffff !important;
}

/* Tabela de agendamentos: células e cabeçalho em branco */
#admin-view table thead th,
#admin-view table tbody td {
  color: #ffffff !important;
  border-color: rgba(255,255,255,0.06) !important;
}

/* Admin stats: compact controls */
#admin-stats-section .form-select-sm,
#admin-stats-section .form-control-sm {
  padding: .25rem .5rem;
  font-size: .875rem;
}
#admin-stats-section label.form-label {
  margin-bottom: .25rem;
}

/* Observações textarea: force white text and placeholder */
#observacoes {
  color: #ffffff !important;
  caret-color: #ffffff;
}
#observacoes::placeholder {
  color: #ffffff !important;
  opacity: 0.7;
}

/* Botões dentro do admin: ajustar cores de rótulos quando necessário */
#admin-view .btn,
#admin-view .btn * {
  color: #ffffff !important;
}

/* Ajuste adicional para badges/links 'Ver Comprovante' para garantir leitura */
#admin-view .btn-outline-info,
#admin-view .btn-outline-primary,
#admin-view .btn-outline-warning,
#admin-view .btn-outline-danger,
#admin-view .btn-outline-success {
  color: #ffffff !important;
}

/* Strong override: style services list as black background with white text in admin view */
#admin-view #services-list { background: #000000 !important; border-radius: 6px; padding: 6px; }
#admin-view #services-list .list-group-item { background: #000000 !important; color: #ffffff !important; border: 1px solid rgba(255,255,255,0.04) !important; }
/* Force all children to be readable */
#admin-view #services-list .list-group-item, #admin-view #services-list .list-group-item * { color: #ffffff !important; }
#admin-view #services-list .list-group-item .btn { color: #ffffff !important; border-color: rgba(255,255,255,0.08) !important; background: transparent !important; }
#admin-view #services-list .list-group-item .btn:hover { background: rgba(255,255,255,0.04) !important; }

/* ========================= */
/* Responsive adjustments    */
/* ========================= */
@media (max-width: 992px) {
  /* Reduce horizontal clutter on medium screens */
  header .container { gap: 8px; }
  .weather-card { min-width: 120px; }
}

@media (max-width: 576px) {
  /* Stack header content */
  header .container { flex-direction: column; align-items: flex-start; }
  #home-weather { margin-top: 6px; }
  #home-weather-cards { width: 100%; flex-wrap: wrap; gap: 8px; }
  .weather-card { min-width: 0; flex: 1 1 calc(50% - 8px); }
  .weather-card .temp { font-size: 1rem; }
  .weather-card .cond { font-size: 0.8rem; }

  /* Time slots grid: make items smaller */
  #available-times-grid { grid-template-columns: repeat(auto-fill, minmax(72px, 1fr)); gap: 6px; }
  .slot { min-height: 44px; padding: 6px 4px; }
  .slot .slot-label { font-size: 0.9rem; }

  /* Role selection: comfortable buttons without overflow */
  #role-selection-view .btn-lg { padding: .6rem 1rem; font-size: 1.05rem; }

  /* Tables: ensure responsive container takes full width */
  .table-responsive { width: 100%; }
}

@media (max-width: 360px) {
  .weather-card .icon svg { width: 28px; height: 28px; }
  .weather-card .temp { font-size: 0.95rem; }
  header h1.h3 { font-size: 1.05rem; }
}
